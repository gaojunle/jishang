<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>融创华中</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" href="./img/common/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="./img/common/favicon.ico" />
    <link rel="stylesheet" href="./css/lib/common.css" />
    <link rel="stylesheet" href="./css/lib/swiper.min.css" />
    <link rel="stylesheet" href="./css/lib/mobileSelect.css">
    <link rel="stylesheet" href="./css/page/quanzi.css" />
    <script src="./js/lib/viewbox.js"></script>
</head>

<body>
    <div class="header">
        <img src="./img/logo.png" alt="" class="logo">
        <div class="selcity js-select">
            <div class="sel-val"
                style="font-size: 15px;color: #8f8f8f;display: inline-block;width: 100px;text-align: right;"></div>
            <select class="sel-data" data-title="请选择城市" style="display: none;">
                <option value="1" selected>上海</option>
                <option value="2">无锡</option>
                <option value="3">西安</option>
            </select>
            <img class="icon-down" src="./img/common/icon-down.png" alt="">
        </div>
    </div>
    <div class="banner-swiper js-banner-swiper">
        <ul class="swiper-wrapper">
            <li class="swiper-slide"><a href="javascript:;"><img src="./img/main/swiper_1.jpg" /></a></li>
            <li class="swiper-slide"><a href="javascript:;"><img src="./img/main/swiper_1.jpg" /></a></li>
            <li class="swiper-slide"><a href="javascript:;"><img src="./img/main/swiper_1.jpg" /></a></li>
            <li class="swiper-slide"><a href="javascript:;"><img src="./img/main/swiper_1.jpg" /></a></li>
        </ul>
        <div class="swiper-pagination"></div>
    </div>
    <div class="qz_list">
        <a href="" class="item">
            <img class="avt" src="./img/main/fl-1-1.png" alt="">
            <div class="info">
                <div class="title">
                    <h3>美食不辜负</h3>
                    <a class="abtn" href="">+加入</a>
                </div>
                <div class="desc">
                    <span>帖子数：864篇</span>
                    <span>伙伴：143位</span>
                </div>
            </div>
        </a>
        <div class="item">
            <img class="avt" src="./img/main/fl-1-1.png" alt="">
            <div class="info">
                <div class="title">
                    <h3>美食不辜负</h3>
                    <a class="abtn out" href="">- 推出</a>
                </div>
                <div class="desc">
                    <span>帖子数：864篇</span>
                    <span>伙伴：143位</span>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <a href="./02首页.html" class="sy">首页</a>
        <a href="./03福利.html" class="fl on">社区</a>
        <a href="./04社区.html" class="sq">幸福通</a>
        <a href="./05服务.html" class="fw">服务</a>
        <a href="./06我的.html" class="wd">我的</a>
    </div>
    <script src="./js/lib/jquery.min.js"></script>
    <script src="./js/lib/common.js"></script>
    <script src="./js/lib/mobileSelect.js"></script>
    <script src="./js/lib/swiper.min.js"></script>
    <script>
        jQuery(function ($) {
            var App = {
                init: function () {
                    this.initData();
                    this.bindEvent();
                },
                bindEvent: function () {
                    this.noticeUp();
                    this.initSelect();
                },
                initData: function () {
                    this.initSwiper();
                },

                initSwiper: function () {
                    var swiperBanner = new Swiper('.js-banner-swiper', {
                        spaceBetween: 0,
                        centeredSlides: true,
                        autoplay: 4000,
                        loop: true,
                        pagination: '.swiper-pagination'
                    });
                    new Swiper('.js-scale-swiper', {
                        slidesPerView: 3,
                        spaceBetween: -6,
                        centeredSlides: true,
                        autoplay: 4000,
                        loop: true,
                        pagination: '.swiper-pagination'
                    });
                    new Swiper('.js-carousel-swiper', {
                        slidesPerView: 'auto',
                        spaceBetween: 20,
                        autoplay: 4000,
                        loop: true,
                        pagination: '.swiper-pagination'
                    });
                },

                noticeUp: function () {
                    setInterval(function () {
                        $('.notice ul').animate({
                            marginTop: '-35px'
                        }, 500, function () {
                            $(this).css({ marginTop: "0" }).find(":first").appendTo(this);
                        })
                    }, 3000);

                },
                initSelect: function () {
                    $('.js-select').each(function () {
                        var $this = $(this),
                            $selData = $this.find('select');

                        if ($selData.length == 0) {
                            return false;
                        }

                        var data = [];
                        $selData.find('option').each(function () {
                            data.push({ id: $(this).val(), value: $(this).html() })
                            if ($(this).prop('selected')) {
                                $this.find('.sel-val').html($(this).html());
                            }
                        });

                        new MobileSelect({
                            trigger: this,
                            title: $selData.data('title'),
                            wheels: [
                                { data: data }
                            ],
                            callback: function (indexArr, data) {
                                console.log(data)
                                /*TODO 这里处理选择后事件*/
                                $this.find('.sel-val').html(data[0].value);
                            }
                        });
                    })
                }
            };
            App.init();
        })
    </script>
</body>

</html>