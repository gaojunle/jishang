<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>充值</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <link rel="stylesheet" href="./css/page/main.css" />
        <script src="./js/lib/flexible.js"></script>
    </head>

    <body>
        <div class="bd pay-info">
            <div class="cards">
                <div class="card on">
                    <h3>月卡20</h3>
                    <p>售价50元（9折）</p>
                </div>
                <div class="card">
                    <h3>月卡20</h3>
                    <p>售价50元（9折）</p>
                </div>
                <div class="card">
                    <h3>月卡20</h3>
                    <p>售价50元（9折）</p>
                </div>
                <div class="card">
                    <h3>月卡20</h3>
                    <p>售价50元（9折）</p>
                </div>
            </div>
            <form action="#" class="mform">
                <div class="fline">
                    <input type="text" placeholder="请输入兑换码" />
                </div>
                <div class="fline">
                    <input type="text" placeholder="请输入QQ号" />
                </div>
                <div class="fline">
                    <input type="text" placeholder="请输入手机号入QQ号" />
                </div>
                <div class="fline">
                    <input type="text" placeholder="请输入短信验证码" />
                    <a href="#" class="get_code">获取验证码</a>
                </div>
            </form>
            <div class="tips">
                <h3>充值说明：</h3>
                <p>1、兑换码可享受移动端VIP会员全部功能及特权。</p>
                <p>2、兑换码请在有效期内激活，过期作废。</p>
                <p>3、兑换码仅可激活一次，自激活之日起享有VIP会员服务。</p>
                <p>4、通过话费购买腾讯视频VIP会员的用户，此次兑换的时长将在话费包月到期后生效。</p>
            </div>
            <a href="./充值记录.html" class="fix-bottom">立即充值</a>
        </div>
        <script src="./js/lib/jquery.min.js"></script>
        <script src="./js/lib/artDialog.js"></script>
        <script>
            var App = {
                init: function() {
                    this.bindEvent();
                },
                bindEvent: function() {
                    $(".cards").on("click", ".card", function() {
                        $(this)
                            .addClass("on")
                            .siblings()
                            .removeClass('on');
                    });
                    this.bindCountDwon();
                },
                bindCountDwon: function() {
                    var countdownFlag = -1;
                    var countDownTime = 60;
                    $(".get_code").click(function() {
                        var $this = $(this);
                        if ($this.hasClass("counting")) {
                            return false;
                        }
                        $this.html(countDownTime + "s可重发").addClass("counting");

                        //发送验证码；
                        alert("发送验证码");
                        /*$.get('#', {}, function () {
                        alert('发送成功')
                        })*/

                        countdownFlag = setInterval(function() {
                            countDownTime--;
                            $this.html(countDownTime + "s可重发");
                            if (countDownTime == 0) {
                                clearInterval(countdownFlag);
                                $this.html("获取验证码").removeClass("counting");
                                countDownTime = 60;
                            }
                        }, 1000);
                    });
                }
            };
            App.init();
        </script>
    </body>
</html>
